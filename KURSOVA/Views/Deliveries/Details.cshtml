@model KURSOVA.Models.Delivery

@{
    ViewData["Title"] = "Details";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

<h1>Доставка</h1>
<hr />
<div class="btn-toolbar" role="toolbar" aria-label="Toolbar with button groups">
    <div class="btn-group mr-2" role="group" aria-label="First group">
        <button class="btn-secondary" onclick="location.href='@Url.Action("Edit", "Deliveries", new { id = @Model.DeliveryId })'" style="padding:10px">
            Редагувати
        </button>
        <button class="btn-secondary" onclick="location.href='@Url.Action("Delete", "Deliveries", new { id = @Model.DeliveryId })'" style="padding: 10px">
            Видалити
        </button>
        <button class="btn-secondary" onclick="location.href='@Url.Action("Index", "Deliveries")'" style="padding: 10px">
            Назад
        </button>
    </div>
    <div class="btn-group mr-2" role="group" aria-label="Second group">
        <button class="btn-primary" onclick="location.href='@Url.Action("Details", "Orders", new { id = @Model.OrderId })'" style="padding: 10px">
            Перейти до замовлення
        </button>
        <button class="btn-primary " onclick="location.href='@Url.Action("Create", "Invoices", new { orderId = @Model.OrderId })'" style="padding: 10px"
                @Html.Raw( Model.Status == DeliveryStatus.Created ? "":"disabled")>
            Створити Рахунок
        </button>
        <form asp-controller="Deliveries" asp-action="Ship" method="post" asp-route-id="@Model.DeliveryId">
            <button class="btn-primary" style="padding: 10px"
                    @Html.Raw( Model.Order.Invoice.Count > 0 && Model.Status == DeliveryStatus.Created ? "":"disabled")>
                Відправити
            </button>
        </form>
        <form asp-controller="Deliveries" asp-action="Complete" method="post" asp-route-id="@Model.DeliveryId">
            <button class="btn-primary" style="padding: 10px"
                     @Html.Raw( Model.Status == DeliveryStatus.Shipping ? "":"disabled")>
                Завершити доставку
            </button>
        </form>
        <form asp-controller="Deliveries" asp-action="Complete" method="post" asp-route-id="@Model.DeliveryId">
            <button class="btn-primary" style="padding: 10px">
                Скасувати
            </button>
        </form>
    </div>

</div>
<div>
    <dl class="row">
        <dt class="col-sm-2">
            @Html.DisplayNameFor(model => model.Status)
        </dt>
        <dd class="col-sm-10">
            @Html.DisplayFor(model => model.Status)
        </dd>
        <dt class="col-sm-2">
            @Html.DisplayNameFor(model => model.Description)
        </dt>
        <dd class="col-sm-10">
            @Html.DisplayFor(model => model.Description)
        </dd>
        <dt class="col-sm-2">
            @Html.DisplayNameFor(model => model.StartTime)
        </dt>
        <dd class="col-sm-10">
            @Html.DisplayFor(model => model.StartTime)
        </dd>
        <dt class="col-sm-2">
            @Html.DisplayNameFor(model => model.EndTime)
        </dt>
        <dd class="col-sm-10">
            @Html.DisplayFor(model => model.EndTime)
        </dd>

        <dt class="col-sm-2">
            @Html.DisplayNameFor(model => model.Weight)
        </dt>
        <dd class="col-sm-10">
            @Html.DisplayFor(model => model.Weight)
        </dd>
        <dt class="col-sm-2">
            @Html.DisplayNameFor(model => model.Courier)
        </dt>
        <dd class="col-sm-10">
            @Html.DisplayFor(model => model.Courier.Name)
        </dd>
        <dt class="col-sm-2">
            @Html.DisplayNameFor(model => model.Location)
        </dt>
        <dd class="col-sm-10">
            @Html.Raw($"{Model.Location.Street.District.City.City1}," +
           $"{Model.Location.Street.District.District1}," +
           $"{Model.Location.Street.Street1}," +
           $"{Model.Location.BuildingNbr}/{Model.Location.Room}")
        </dd>
        <dt class="col-sm-2">
            @Html.DisplayNameFor(model => model.Order)
        </dt>
        <dd class="col-sm-10">
            @Html.DisplayFor(model => model.Order.OrderId)
        </dd>
    </dl>
</div>
<div>
    <a asp-action="Edit" asp-route-id="@Model.DeliveryId">Редагувати</a> |
    <a asp-action="Index">Назад</a>
</div>
